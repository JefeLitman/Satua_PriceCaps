{{ block content }}
    <!-- Version 1.5 -->
    <link rel="stylesheet" href="{{ static 'global/base.css' }}">
    <div class="row">
        <div class="container-fluid">
            <div class="row text-center mt-5">
                <div class="alert alert-info" role="alert">
                    <h2>Sección 1 - Instrucciones</h2>
                </div>
            </div>
            <div id="slide1" class="row my-3">
                <div class="card">
                    <div class="card-body">
                        <p>Los 4 participantes de un grupo participarán en un <b>mercado</b> como <b>compradores</b> de un producto hipotético. Además, hay 4 vendedores en cada grupo. Mientras que todos los compradores son personas, los vendedores son computadoras y de ahora en adelante los llamaremos vendedores automatizados.</p>
                        <p>El mercado operará durante 8 períodos.</p>
                        <p>En cada período, cada comprador puede adquirir <b>1 unidad</b> del producto y cada vendedor automatizado puede vender <b>1 unidad</b> del producto. <b>Usted puede ganar dinero al hacer una compra.</b></p>
                    </div>
                </div>
            </div>
            <div id="slide2" class="row my-3 d-none">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title text-center">¿Cómo puede ganar dinero?</h5>
                        <br/>
                        <br/>
                        <p class="card-text">El producto tiene un valor para cada participante que será asignado por el computador. Al valor que el producto tiene para usted lo llamaremos <b>su valor</b>.</p>
                        <p class="card-text">En cada período usted puede ganar dinero si compra 1 unidad del producto a un precio de mercado inferior a su valor.</p>
                        <p class="card-text">El valor del producto puede cambiar a lo largo de los períodos y puede diferir entre los compradores. En cada período, usted sólo conocerá su valor; no sabrá los valores de otros compradores ni otros compradores sabrán su valor.</p>
                        <p class="card-text">Veamos el siguiente ejemplo.</p>
                    </div>
                </div>
            </div>
            <div id="slide3" class="row my-3 d-none">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title text-center">¿Cómo puede ganar dinero? Ejemplo</h5>
                        <br/>
                        <br/>
                        <p class="card-text">La primera fila (debajo del área superior) muestra su valor. En este ejemplo, su valor es de 10 puntos.</p>
                        <p class="card-text">Si compra el producto en un período, usted debe pagar el precio de mercado (pronto le explicaremos cómo se determina).</p>
                        <p class="card-text">En cada período, sus ganancias se calculan restando el precio pagado de su valor, es decir:</p>
                        <p class="card-text text-center"><b>Ganancias = Su valor - Precio de mercado</b></p>
                        <p class="card-text">Si no compra el producto en un período, su valor caduca. Por otro lado, en ese caso, usted no paga un precio. Por lo tanto, sus ganancias en ese período son cero.</p>
                    </div>
                    <img src="{{ static 'market/solicitud.png' }}" class="card-img-bottom img-fluid border border-primary">
                </div>
            </div>
            <div id="slide4" class="row my-3 d-none">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title text-center">¿Cómo puede realizar una compra?</h5>
                        <br/>
                        <br/>
                        <p class="card-text">En cada período, usted enviará una <b>solicitud de compra</b> a los vendedores indicando su valor (pronto verá cómo hacerlo).</p>
                        <p class="card-text"><b>Sin observar las solicitudes de compra</b>, cada vendedor automatizado deberá hacer dos cosas: (1) decidirá si desea vender y (2) en caso de que decida vender, propondrá un precio de venta, al cual llamaremos <b>"precio sugerido".</b></p>
                        <p class="card-text">A los vendedores automatizados no se les permite sugerir un precio de venta por debajo de su costo. Los costos pueden diferir entre los vendedores. Ni usted ni los demás compradores en su grupo sabrán el costo de ninguno de los vendedores. Los vendedores pueden ganar dinero vendiendo a un precio superior a su costo.</p>
                        <p class="card-text">Una vez que cada comprador ha enviado su solicitud y cada vendedor automatizado ha decidido si desea vender y a qué precio, las solicitudes y los precios sugeridos se organizan para determinar los intercambios.</p>
                    </div>
                </div>
            </div>
            <div id="slide5" class="row my-3 d-none">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title text-center">¿Cómo se organizan las solicitudes y los precios sugeridos?</h5>
                        <br/>
                        <br/>
                        <p class="card-text">Las <b>solicitudes de compra</b> se ordenan de <b>mayor a menor</b> según su valor y los <b>precios sugeridos</b> se ordenan de <b>menor a mayor.</b> Las solicitudes más altas se emparejan con los precios sugeridos más bajos. <b>Las unidades para las que la solicitud es mayor o igual que el precio sugerido se venden.</b> El resto de las unidades no se venden.</p>
                        <p class="card-text">Veamos el siguiente ejemplo.</p>
                    </div>
                </div>
            </div>
            <div id="slide6" class="row my-3 d-none">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title text-center">¿Cómo se organizan las solicitudes y los precios sugeridos? Ejemplo</h5>
                        <br/>
                        <br/>
                        <p class="card-text">La primera columna muestra las cuatro solicitudes ordenadas de mayor a menor. La segunda columna muestra los cuatro precios sugeridos ordenados de menor a mayor. La tercera columna indica, para cada solicitud, si esta fue aceptada.</p>
                        <p class="card-text">La primera solicitud (10) es mayor que el precio sugerido para esa unidad (5). Por lo tanto, la primera solicitud es aceptada (como se observa en la tercera columna) y esa unidad se vende al comprador que realizó la solicitud. Lo mismo ocurre con la segunda solicitud (8), pues esta es mayor que el precio sugerido para esa unidad (6).</p>
                        <p class="card-text">En cambio, la tercera solicitud (5) es menor que el correspondiente precio sugerido (7), y por ello es rechazada. Lo mismo ocurre con la cuarta solicitud.</p>
                    </div>
                    <img src="{{ static 'market/table_results.png' }}" class="card-img-bottom img-fluid border border-primary">
                </div>
            </div>
            <div id="slide7" class="row my-3 d-none">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title text-center">¿Cómo se determina el precio de mercado?</h5>
                        <br/>
                        <br/>
                        <p class="card-text">En cada período, el <b>precio de mercado</b> es igual al <b>precio sugerido para la última unidad vendida.</b></p>
                        <p class="card-text">Continuemos con el ejemplo anterior.</p>
                    </div>
                </div>
            </div>
            <div id="slide8" class="row my-3 d-none">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title text-center">¿Cómo se determina el precio de mercado? Ejemplo</h5>
                        <br/>
                        <br/>
                        <p class="card-text">Como acabamos de ver, las primeras 2 unidades se venden porque las solicitudes son mayores que los correspondientes precios sugeridos por los vendedores automatizados.</p>
                        <p class="card-text">El precio sugerido para la última unidad vendida (la segunda) es 6, por lo que el precio de mercado se fija en 6. Este precio aparece en la cuarta columna.</p>
                        <p class="card-text">Note que, al precio de mercado, los primeros 2 compradores efectivamente están dispuestos a comprar (ya que su valor es mayor que 6) y los primeros 2 vendedores automatizados efectivamente están dispuestos a vender (ya que el precio de mercado es mayor o igual que los precios que sugirieron).</p>
                    </div>
                    <img src="{{ static 'market/table_results.png' }}" class="card-img-bottom img-fluid border border-primary">
                </div>
            </div>
            <div class="row justify-content-center">
                <div id="back_div" class="col-2 me-3 d-none">
                    <button type="button" id="back" class="btn btn-primary">Retroceder</button>
                </div>
                <div class="col-2 ms-3">
                    <button type="button" id="next" class="btn btn-primary">Siguiente</button>
                </div>
            </div>
            <div class="row d-none">
                <button id="submit">Siguiente</button>
            </div>
        </div>
    </div>
    <script src="{{ static 'global/animation.js' }}"></script>
    <script>
        let idx = 1;
        document.getElementById("back").onclick = () => {
            if (idx != 1){
                let prev = document.getElementById("slide"+idx)
                let next = document.getElementById("slide"+(idx-1))
                fade(prev, next);
                if (idx == 2){
                    fade_out(document.getElementById("back_div"));
                }
                idx--;
            }
        };
        document.getElementById("next").onclick = () => {
            if (idx == 8){
                document.getElementById("submit").click();
                return null;
            }
            let prev = document.getElementById("slide"+idx)
            let next = document.getElementById("slide"+(idx+1))
            fade(prev, next);
            if (idx == 1){
                fade_in(document.getElementById("back_div"));
            }
            idx++;
        };
    </script>
{{ endblock }}
